---
auto_fieldset: 1

elements:
  - type: Hidden
    name: id
  - type: Text
    name: name
  - type: Block
    nested_name: city
    elements:
      - type: Hidden
        name: id
  - type: Repeatable
    nested_name: addresses
    counter_name: addresses_counter
    model_config:
        new_rows_max: 10
    elements:
      - type: Text
        name: address
      - type: Hidden
        name: id
      - type: Block
        nested_name: city
        elements:
          - type: Text
            name: name
          - type: Hidden
            name: country
          - type: Hidden
            name: id

